{% extends 'base.html.twig' %}

{% block title %} Evènement | Commentaires  {% endblock %}

{# {% block stylesheets %}

    <link href="{{ asset('css/layoutStyles/layout.css') }}" type="text/css" rel="stylesheet" />
    <link href="{{ asset('css/adminStyles/admin.css') }}" type="text/css" rel="stylesheet" />

{% endblock %} #}

{% block body %}

<main class="historyMain">

  <h1> Historique de vos évènements  </h1>

    <div class="messageFlash">
       
        {% include 'flash.html.twig'  %}     

    </div>
    
  {# {{ dump(eventUser) }}  #}

  <table class="table table-striped tableHistory">
    <thead>
      <tr>
        <th scope="col">Pseudonyme</th>
        <th scope="col">Titre</th>
        <th scope="col" class="descriptionHistory">Description</th>
        <th scope="col">Date de début</th>
        <th scope="col">Date de fin</th>
        <th scope="col">Ville</th>
        <th scope="col">Actions</th>
      </tr>
    </thead>


    <tbody>

      {% for eventUser in eventsUser %}

        {% if app.user in eventUser.users %}
        
          <tr>
            <th scope="row"> {{eventUser.userCreator.pseudonyme}} </th>
            <td>{{eventUser.title}}</td>
            <td>{{eventUser.description}}</td>
            <td>{{eventUser.startDate|date('d-m-Y H:i')}}</td>
            <td>{{eventUser.endDate|date('d-m-Y H:i')}}</td>
            <td>{{eventUser.town}}</td>
            <td><a href="{{path('detail_history', {'id' : eventUser.id} )}}">Détails</a></td>
  
          </tr>
        {% endif %}

        
      {% endfor %}
    </tbody>
  </table>
</main>

{% endblock %}


{% block javascripts %}

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>

{% endblock %}
