{% extends 'base.html.twig' %}

{% block title %}Modifier votre profil{% endblock %}

{% block stylesheets %}

    <link href="{{ asset('css/layoutStyles/layout.css') }}" type="text/css" rel="stylesheet" />

    <link href="{{ asset('css/formStyles/editProfil.css') }}" type="text/css" rel="stylesheet">

{% endblock %}

{% block body %}

<main class="editProfilMain">
    
    {{ form_start(formEditProfil) }}
    <div class="containt">
        <figure class="preview">
            <img id="edit_profil_avatar_preview" src="{{ asset('img/avatars/' ~ app.user.avatar) }}" class="avatar" alt="Image de profil de l'utilisateur !">
        </figure>
    </div>

    <div class="inputs text-dark">
        <div class="email-pseudo">
            {{ form_row(formEditProfil.email) }}


            {{ form_row(formEditProfil.pseudonyme) }}
        </div>

        <div>
            {{ form_row(formEditProfil.avatar) }}
        </div>
        
        <div>
            {{ form_row(formEditProfil.submit) }}
        </div>

        {# <a href="{{ path('delete_account')}}" class="deleteAccount">Supprimer votre compte</a> #}

        <button type="button" class="btn btn-outline-danger" data-bs-toggle="modal" data-bs-target="#exampleModal">
            Supprimer votre compte
        </button>


        <!-- Modal -->
        <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h1 class="modal-title fs-5" id="exampleModalLabel">Supprimer votre compte</h1>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        Êtes vous certain de vouloir supprimer votre compte ? <br>
                        La suppression de votre compte et définitive
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-danger">
                            <a href="{{ path('delete_account') }}" class="aWithoutStyle text-light">Supprimer</a>
                        </button>
                        <button type="button" class="btn btn-secondary">Fermer</button>
                    </div>
                </div>
            </div>
        </div>

    {{ form_end(formEditProfil) }}




</main>

{% endblock %}

{% block javascripts %}
    {# Script permetant à l'utilisateur d'avoir un aperçu de sont nouvelle avatar avant de l'avoir enregistré  #}
    <script src="{{ asset('js/previewAvatar.js')}}"></script>
    {{ encore_entry_script_tags('app') }}
    <!-- JavaScript Bundle with Popper -->

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>
    <script src="https://kit.fontawesome.com/7d0ef989cc.js" crossorigin="anonymous"></script>
{% endblock %}